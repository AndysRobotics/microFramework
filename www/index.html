<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no" />
        <title>Micro Framework</title>
        <link rel="icon" type="image/png" href="/favicon.png">
        <link rel="stylesheet" href="/css/style.css" type="text/css">
        <style>
            [data-if], [data-for], [data-each], [data-none],
            [data-switch], [data-default], [data-case] { display: none; }
        </style>
    </head>
    <body>
        <div style='display: inline-block;' class="Tab" data-class-if="activeTab=Tab1;active" onclick="changeTab('Tab1')">Tab 1</div>
        <div style='display: inline-block;' class="Tab" data-class-if="activeTab=Tab2;active" onclick="changeTab('Tab2')">Tab 2</div>
        <div style='display: inline-block;' class="Tab" data-class-if="activeTab=Tab3;active" onclick="changeTab('Tab3')">Tab 3</div>
        <div data-if="activeTab=Tab1">
            Data inside tab 1
        </div>
        <div data-if="activeTab=Tab2">
            Data inside tab 2
        </div>
        <div data-if="activeTab=Tab3">
            Data inside tab 3
        </div>

        <div data-show="inline-block" data-innerHtml="test.name" data-unknown="Unknown"></div>
        <div data-for="devices">
            <div data-each>
                <div data-if="devices.name" data-innerHtml="devices.name"></div>
                <div data-switch="devices.type">
                    <div data-default>
                        This device is unknown
                    </div>
                    <div data-case="Cam">
                        This device is a camera
                    </div>
                </div>
                <div data-if="!devices.items.length">No Device Items</div>
                <div data-for="devices.items">
                    <div data-each onclick="deviceItemClick(this)" data-param="devices">
                        <div data-innerHtml="devices.items.name"></div>
                        <img data-class="devices.items.className" data-src="devices.items.image">
                    </div>
                </div>
            </div>
        </div>
        <div data-if="loading">
            Loading, please wait...
        </div>
        <input type="checkbox" data-value="form.boolTest" name='boolTest' data-group="testGroup"><br>
        <div data-innerHtml="form.boolTest"></div>
        <input type="text" data-value="form.name" name='personName' data-group="testGroup"><br>
        <div data-innerHtml="form.name"></div>
        <textarea data-value="form.info" name='personInfo' data-group="testGroup"></textarea>
        <script src="/js/microFramework.js"></script>
        <script>
            mfw.data = {
                activeTab: 'Tab1',
                form: {
                    name: 'TestInput',
                },
                loading: true, test: { show: true }, devices: [
                    { name: 'Hello', type: 'Cam', items: [{ name: "world1", className: 'testClass' }, { name: "world2" }] },
                    { name: 'NoItems', type: 'Cam2', items: [] },
                ],
            };

            mfw.init();

            function deviceItemClick(el){
                let data = mfw.getDataFromElement(el);
                console.log('Device item click', el, data);
            }

            function changeTab(newTab){
                mfw.data.activeTab=newTab;
                mfw.render();
            }
        </script>
    </body>
</html>